<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="popup.css">
  <title>YouTube AI Summarizer â€” Settings</title>
</head>
<body>
  <div class="popup-container">

    <!-- Header -->
    <header class="popup-header">
      <div class="popup-logo">
        <svg viewBox="0 0 24 24" width="20" height="20"><path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/></svg>
        <span>AI Summarizer</span>
      </div>
      <span class="popup-version">v1.2.1</span>
    </header>

    <!-- Provider Selector -->
    <div class="popup-card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg>
        AI Provider
      </div>
      <div class="provider-toggle" id="providerToggle">
        <button class="provider-btn active" data-provider="groq">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          Groq
        </button>
        <button class="provider-btn" data-provider="ollama">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-1.01 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
          Ollama Cloud
        </button>
      </div>
    </div>

    <!-- Groq Settings -->
    <div class="popup-card" id="groqSettings">
      <div class="card-title">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>
        Groq API Key
      </div>
      <div class="input-group">
        <input type="password" id="groqApiKey" placeholder="gsk_xxxxxxxxxxxxxxxx" spellcheck="false" autocomplete="off">
        <button id="toggleGroqKey" class="icon-btn" title="Show/Hide">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
        </button>
      </div>
      <div id="groqApiKeyStatus" class="status-msg hidden"></div>
      <a href="https://console.groq.com/keys" target="_blank" rel="noopener noreferrer" class="help-link">Get a free API key from Groq &rarr;</a>

      <div class="card-title mt-16">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
        AI Model
      </div>
      <select id="groqModel">
        <option value="llama-3.3-70b-versatile">Llama 3.3 70B â€” Balanced (Best quality)</option>
        <option value="llama-3.1-8b-instant">Llama 3.1 8B â€” Fast (Higher rate limit)</option>
        <option value="meta-llama/llama-4-scout-17b-16e-instruct">Llama 4 Scout 17B â€” New</option>
        <option value="qwen/qwen3-32b">Qwen3 32B â€” Reasoning</option>
      </select>
    </div>

    <!-- Ollama Settings -->
    <div class="popup-card hidden" id="ollamaSettings">
      <div class="card-title">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>
        Ollama API Key
      </div>
      <div class="input-group">
        <input type="password" id="ollamaApiKey" placeholder="Enter your Ollama API key" spellcheck="false" autocomplete="off">
        <button id="toggleOllamaKey" class="icon-btn" title="Show/Hide">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
        </button>
      </div>
      <div id="ollamaApiKeyStatus" class="status-msg hidden"></div>
      <a href="https://ollama.com/settings/keys" target="_blank" rel="noopener noreferrer" class="help-link">Get your API key from Ollama &rarr;</a>

      <div class="card-title mt-16">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
        Cloud Model
      </div>
      <select id="ollamaModel">
        <option value="qwen3-next:80b">Qwen3-Next 80B â€” Reasoning &amp; Thinking</option>
        <option value="deepseek-v3.2">DeepSeek V3.2 671B â€” Most Powerful</option>
        <option value="gpt-oss:120b">GPT-OSS 120B â€” General Purpose</option>
        <option value="gemini-3-flash-preview">Gemini 3 Flash â€” Fast</option>
        <option value="kimi-k2.5">Kimi K2.5 â€” Multimodal Agent</option>
        <option value="minimax-m2.5">MiniMax M2.5 â€” Coding &amp; Productivity</option>
        <option value="devstral-small-2:24b">Devstral Small 24B â€” Code Agent</option>
        <option value="nemotron-3-nano:30b">Nemotron 3 Nano 30B â€” Efficient Agent</option>
      </select>
    </div>

    <!-- Language Selection â€” prominent card -->
    <div class="popup-card language-card">
      <div class="card-title">
        <span class="lang-globe">ğŸŒ</span>
        Output Language
      </div>
      <p class="card-hint">AI will generate summaries in the selected language, regardless of the video's language.</p>
      <select id="language" class="language-select">
        <option value="auto">ğŸ”„ Auto-detect (same as transcript)</option>
        <option value="English">ğŸ‡¬ğŸ‡§ English</option>
        <option value="Turkish">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
        <option value="Spanish">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
        <option value="French">ğŸ‡«ğŸ‡· FranÃ§ais</option>
        <option value="German">ğŸ‡©ğŸ‡ª Deutsch</option>
        <option value="Portuguese">ğŸ‡§ğŸ‡· PortuguÃªs</option>
        <option value="Italian">ğŸ‡®ğŸ‡¹ Italiano</option>
        <option value="Dutch">ğŸ‡³ğŸ‡± Nederlands</option>
        <option value="Polish">ğŸ‡µğŸ‡± Polski</option>
        <option value="Swedish">ğŸ‡¸ğŸ‡ª Svenska</option>
        <option value="Japanese">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
        <option value="Korean">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
        <option value="Chinese">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
        <option value="Arabic">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="Russian">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        <option value="Hindi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
        <option value="Indonesian">ğŸ‡®ğŸ‡© Bahasa Indonesia</option>
        <option value="Vietnamese">ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t</option>
        <option value="Thai">ğŸ‡¹ğŸ‡­ à¸ à¸²à¸©à¸²à¹„à¸—à¸¢</option>
        <option value="Ukrainian">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
      </select>
    </div>

    <!-- General Settings -->
    <div class="popup-card">
      <div class="card-title">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
        General Settings
      </div>

      <label class="field-label" for="defaultMode">Default Mode</label>
      <select id="defaultMode">
        <option value="summary">Summary</option>
        <option value="keypoints">Key Points</option>
        <option value="detailed">Detailed Analysis</option>
      </select>

      <div class="toggle-row mt-16">
        <span class="toggle-label">Auto-summarize on page load</span>
        <label class="toggle">
          <input type="checkbox" id="autoRun">
          <span class="toggle-track"><span class="toggle-thumb"></span></span>
        </label>
      </div>
    </div>

    <!-- Actions -->
    <div class="popup-actions">
      <button id="saveBtn" class="btn btn-primary">
        <svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
        Save Settings
      </button>
      <button id="clearCacheBtn" class="btn btn-ghost">Clear Cache</button>
    </div>

    <!-- Footer -->
    <footer class="popup-footer">
      <a href="https://console.groq.com/docs" target="_blank" rel="noopener noreferrer">Groq Docs</a>
      <span class="dot">&middot;</span>
      <a href="https://ollama.com/cloud" target="_blank" rel="noopener noreferrer">Ollama Cloud</a>
      <span class="dot">&middot;</span>
      <a href="privacy-policy.html" id="privacyLink" target="_blank">Privacy</a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
